<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Connect the Dots ❤️</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            background-color: #fff5f7;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            touch-action: none;
        }
        h2 { color: #d63384; margin-bottom: 10px; }
        #game-container {
            position: relative;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            padding: 20px;
        }
        canvas {
            border: 2px dashed #ffc1e3;
            border-radius: 10px;
            cursor: crosshair;
        }
        #message {
            margin-top: 20px;
            font-size: 1.5rem;
            font-weight: bold;
            color: #d63384;
            height: 30px;
            transition: opacity 0.5s;
        }
    </style>
</head>
<body>

    <h2>Connect the dots...</h2>
    
    <div id="game-container">
        <canvas id="dotCanvas" width="350" height="400"></canvas>
    </div>

    <div id="message"></div>

    <script>
        const canvas = document.getElementById('dotCanvas');
        const ctx = canvas.getContext('2d');
        const messageDiv = document.getElementById('message');

        // Dot positions and their labels
        const dots = [
            { x: 50,  y: 50,  label: "If" },
            { x: 50,  y: 150, label: "You" },
            { x: 150, y: 150, label: "connect" },
            { x: 200, y: 80,  label: "the" },
            { x: 280, y: 150, label: "dots," },
            { x: 200, y: 220, label: "You" },
            { x: 250, y: 320, label: "will" },
            { x: 320, y: 320, label: "know" },
            { x: 320, y: 220, label: "i" },
            { x: 250, y: 220, label: "Love" },
            { x: 250, y: 220, label: "You" }, // Final reveal
            { x: 320, y: 100, label: "much" }
        ];

        let nextDotIndex = 0;
        let completed = false;

        function drawDots() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Draw lines between clicked dots
            if (nextDotIndex > 0) {
                ctx.beginPath();
                ctx.moveTo(dots[0].x, dots[0].y);
                ctx.strokeStyle = '#ff6bad';
                ctx.lineWidth = 5;
                ctx.lineCap = 'round';
                ctx.lineJoin = 'round';
                
                for (let i = 1; i < nextDotIndex; i++) {
                    ctx.lineTo(dots[i].x, dots[i].y);
                }
                ctx.stroke();
            }

            // Draw dots and text
            dots.forEach((dot, index) => {
                // Circle
                ctx.beginPath();
                ctx.arc(dot.x, dot.y, 6, 0, Math.PI * 2);
                ctx.fillStyle = index < nextDotIndex ? '#d63384' : '#ccc';
                ctx.fill();

                // Text label
                ctx.fillStyle = '#444';
                ctx.font = '14px Arial';
                ctx.fillText(dot.label, dot.x - 15, dot.y - 15);
            });
        }

        canvas.addEventListener('mousedown', handlePointer);
        canvas.addEventListener('touchstart', (e) => {
            e.preventDefault();
            handlePointer(e.touches[0]);
        });

        function handlePointer(e) {
            if (completed) return;

            const rect = canvas.getBoundingClientRect();
            const mouseX = e.clientX - rect.left;
            const mouseY = e.clientY - rect.top;

            const target = dots[nextDotIndex];
            const dist = Math.sqrt((mouseX - target.x)**2 + (mouseY - target.y)**2);

            // If user clicks within 20px of the correct next dot
            if (dist < 25) {
                nextDotIndex++;
                if (nextDotIndex === dots.length) {
                    completed = true;
                    messageDiv.innerHTML = "❤️ I LOVE YOU SO MUCH! ❤️";
                }
                drawDots();
            }
        }

        drawDots();
    </script>
</body>
</html>
